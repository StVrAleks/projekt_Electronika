<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1">
    <title>Ну погоди!</title>
    <link rel="stylesheet" href="style.css" media="all">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet">
    
</head>
<body>
    
    <div id="place_game_out">
        <div id="place_game_in">
            <div id="place_game_I">
                <div id="logo"></div>
                 <div id="but_left">
                    <div id="img1"></div>
                    <div id="top_bord" class="borderBut">
                    <button id="but1" class="for_button" style="position: absolute;"></button>
                    </div>
                    <div id="img2"></div>
                    <div id="bot_bord" class="borderBut">
                    <button id="but2" class="for_button" style="position: absolute;"></button>     
                    </div>  
                 </div>
            </div>
            <div id="place_game_II">
                <div id="place_for_game">
                    <div class="side left"></div>
                    <div class="side right"></div>
                    <div class="side top"></div>
                    <div class="side bottom"></div>
                    <div id="for_game_layer1"></div>
                    <div id="for_game_layer2"></div>                    
                    <div id="top_label" style="color: #DB2323;" class="for_label">НУ, ПОГОДИ!</div>
                    <div id="bottom_label" style="color: black;" class="for_label to_bottom">ЭЛЕКТРОНИКА</div>
                    <div id="for_game_layer3"></div> 
                    <div id="for_game_layer4"></div>  
                </div>
            </div>
            <div id="img_game" class="img_game_class">
                <span id="gameA" class="imgsGame var_game">GAME A</span>
                <span id="gameB" class="imgsGame var_game">GAME B</span>
                <span id="ochki" class="imgsGame"></span>
                <span id="curTime" class="imgsGame"></span>
                <img id="game_over" class='imgsGame' src="img/game_over.png" alt="game_over">
                <img id="zayac" class='imgsGame' src="img/zayac.png" alt="zayac">
                <img id="zayac_top" class='imgsGame hend_z' src="img/zayac_hend_top-fotor.png" alt="zayac_hend">
                <img id="zayac_bottom" class='imgsGame hend_z' src="img/zayac_hend_bottom.png" alt="zayac_hend">
                <img id="ch_top_left" class='imgsGame chiken' src="img/chiken_top_left.png" alt="chiken_top_left">
                <img id="ch_top_right" class='imgsGame chiken' src="img/chiken_top_right.png" alt="chiken_top_right">
                <img id="ch_bottom_left" class='imgsGame chiken' src="img/chiken_bottom_left.png" alt="chiken_bottom_left">
                <img id="ch_bottom_right" class='imgsGame chiken' src="img/chiken_bottom_right.png" alt="chiken_bottom_right">
                <img id="volk_right" class='imgsGame volk' src="img/volk1.png" alt="volk_right">
                <img id="volk_left" class='imgsGame volk' src="img/volk2.png" alt="volk_left">
                <img id="hend_top_left" class='imgsGame hend' src="img/hend3.png" alt="hend_left">
                <img id="hend_top_right" class='imgsGame hend' src="img/hend2.png" alt="hend_right">
                <img id="hend_bottom_right" class='imgsGame hend' src="img/hend1.png" alt="hend_right">
                <img id="hend_bottom_left" class='imgsGame hend' src="img/hand4.png" alt="hend_left">                
                <img id="bant1" class='imgsGame bant' src="img/bant.png" alt="bant1">
                <img id="bant2" class='imgsGame bant' src="img/bant.png" alt="bant2">
                <img id="bant3" class='imgsGame bant' src="img/bant.png" alt="bant3">
                <img id="bdyj_right1" class='imgsGame' src="img/bdyj_right.png" alt="bdyj">
                <img id="bdyj_left1" class='imgsGame' src="img/bdyj_right.png" alt="bdyj">
                <img id="bdyj_right2" class='imgsGame' src="img/bdyj_right.png" alt="bdyj">
                <img id="bdyj_left2" class='imgsGame' src="img/bdyj_right.png" alt="bdyj">
                <img id="cyplenok1_left" class='imgsGame cyplenok_left' src="img/l1.png" alt="cyplenok1_left">
                <img id="cyplenok2_left" class='imgsGame cyplenok_left' src="img/l2.png" alt="cyplenok2_left">
                <img id="cyplenok3_left" class='imgsGame cyplenok_left' src="img/l3.png" alt="cyplenok3_left">
                <img id="cyplenok4_left" class='imgsGame cyplenok_left' src="img/l4.png" alt="cyplenok4_left">
                <img id="cyplenok4_right" class='imgsGame cyplenok_right' src="img/r1.png" alt="cyplenok4_right">
                <img id="cyplenok3_right" class='imgsGame cyplenok_right' src="img/r2.png" alt="cyplenok3_right">
                <img id="cyplenok2_right" class='imgsGame cyplenok_right' src="img/r3.png" alt="cyplenok2_right">
                <img id="cyplenok1_right" class='imgsGame cyplenok_right' src="img/r4.png" alt="cyplenok1_right">
                <img id="eg1_left_top" src="img/eg1.png" class="imgsGame eggs eg_left_top" alt="eg1">
                <img id="eg2_left_top" src="img/eg2.png" class="imgsGame eggs eg_left_top" alt="eg2">
                <img id="eg3_left_top" src="img/eg3.png" class="imgsGame eggs eg_left_top" alt="eg3">
                <img id="eg4_left_top" src="img/eg4.png" class="imgsGame eggs eg_left_top" alt="eg4">
                <img id="eg5_left_top" src="img/eg5.png" class="imgsGame eggs eg_left_top" alt="eg5">
                <img id="eg1_left_bot" src="img/eg6.png" class="imgsGame eggs eg_left_bot" alt="eg6">
                <img id="eg2_left_bot" src="img/eg7.png" class="imgsGame eggs eg_left_bot" alt="eg7">
                <img id="eg3_left_bot" src="img/eg8.png" class="imgsGame eggs eg_left_bot" alt="eg8">
                <img id="eg4_left_bot" src="img/eg9.png" class="imgsGame eggs eg_left_bot" alt="eg9">
                <img id="eg5_left_bot" src="img/eg10.png" class="imgsGame eggs eg_left_bot" alt="eg10">      
                <img id="eg1_right_top" src="img/eg11.png" class="imgsGame eggs eg_right_top" alt="eg11">
                <img id="eg2_right_top" src="img/eg12.png" class="imgsGame eggs eg_right_top" alt="eg12">
                <img id="eg3_right_top" src="img/eg13.png" class="imgsGame eggs eg_right_top" alt="eg13">
                <img id="eg4_right_top" src="img/eg14.png" class="imgsGame eggs eg_right_top" alt="eg14">
                <img id="eg5_right_top" src="img/eg15.png" class="imgsGame eggs eg_right_top" alt="eg15">
                <img id="eg1_right_bot" src="img/eg16.png" class="imgsGame eggs eg_right_bot" alt="eg16">
                <img id="eg2_right_bot" src="img/eg17.png" class="imgsGame eggs eg_right_bot" alt="eg17">
                <img id="eg3_right_bot" src="img/eg18.png" class="imgsGame eggs eg_right_bot" alt="eg18">
                <img id="eg4_right_bot" src="img/eg19.png" class="imgsGame eggs eg_right_bot" alt="eg19">
                <img id="eg5_right_bot" src="img/eg20.png" class="imgsGame eggs eg_right_bot" alt="eg20">                                          
            </div>
            <div id="place_game_III">
                <img id="zvon" src="img/zvon.png" alt="zvonok">
                <div id="control">
                    <button id="control_1" class="for_control_button" onclick="control1();"></button>
                    <div id="control_2"></div>
                    <div id="control_3" class="for_control_text">игра А</div>
                    <div id="control_4" class="impuls"></div>
                    <button id="control_5" class="for_control_button" onclick="control2();"></button>
                    <div id="control_6">L</div>
                    <div id="control_7" class="for_control_text">игра Б</div>
                    <div id="control_8" class="impuls"></div>
                    <button id="control_9" class="for_control_button" onclick="for_control3();"></button>
                    <div id="control_10" class="for_control_text">время</div>
                </div>
                 <div id="but_right">
                    <div id="img3"></div>
                    <div id="top_bord_right" class="borderBut">
                         <button id="but3" class="for_button" style="position: absolute;"></button>
                    </div>
                    <div id="img4"></div>
                    <div id="bot_bord_right" class="borderBut">
                        <button id="but4" class="for_button" style="position: absolute;"></button>     
                    </div>  
                 </div>               
            </div>
        </div>
    </div>
    <canvas id="game_canvas" ></canvas>
    <audio src="audio/eg.mp3" autoplay="autoplay"></audio>
    <audio src="audio/bdyj.mp3" autoplay="autoplay"></audio>
</body>
<style>
  body{
  background-color: black;
  width: 100%;
  height: 100%;
  padding: 0;
  margin: 0;
}
button{
  cursor: pointer;
}
#place_game_out{
    width: 700px;
    height: 400px;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%,-50%);
    border: 10px solid #DB2323;
    
}
#place_game_in{
    border: 1px solid black;
    border-radius: 5px;
    margin: -2px;
    height: inherit;
    background-color: #CECDC8;
    display: flex;
    flex-direction: row;
}
#place_game_I{
    width: 15%;
    height: inherit;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    align-items: center;
}
#logo{
    position: relative;
    top: 15%;
    left: 21%;
    width: 60px;
    height: 60px;
    border: 1px solid black;
}
#but_left{
    width: 85%;
    height: 37.5%; 
    display: grid;
    grid-template-rows: 50% 50%;
    grid-template-columns: 30% 50%;
    grid-template-areas: 
    "img_1 bord_1"
    "img_2 bord_2";
    justify-content: space-between;
    justify-items: end;
    align-items: center;
    
}
#img1{grid-area: img_1;}
#top_bord{grid-area: bord_1;}
#img2{grid-area: img_2;}
#bot_bord{grid-area: bord_2;}

#img1{
    border: 7px solid transparent;
    border-top: 28px solid black;
    transform: rotate(118deg);
    margin-right: -2px;
    margin-top: -38px; 
}
#img2{
    border: 7px solid transparent;
    border-left: 28px solid black;
    transform: rotate(149deg);
    margin-right: -12px;
    margin-bottom: -43px;
}
.borderBut{
    width: 40px;
    height: 40px;
    border-radius: 50%;
    border: 4px solid #DB2323;
    position: relative;
}

#but1, #but2{
    top: 0;
    left: 0;
}
/*#but1::after,
#but2::after {
  content: 'Shift';
  color: black;
  font-size: 15px;
  line-height: 26px;
  width: 60px;
  height: calc(60px - 50%);
  border-radius: 50%;
  border: 4px solid #DB2323;
  position: absolute;
  top: -50%;
  left: -50%;
  animation-timing-function: ease-in-out;
  animation-duration: 800ms;
  animation-name: rule;
  opacity: 1;
  padding-top: 50%;
 
}*/
/*
#but2::after {
  content: 'Ctrl';
}*/
.for_button{
    border-radius: 50%;
    border: 3px solid #B40E07;
    background: #ff0000; 
    width: 40px;
    height: 40px;
}
#place_game_II{
    width: 70%; 
    height: inherit;
    perspective: 700px;
    position: relative;
}
#place_game_III{
    width: 15%;
    height: inherit;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
}
/*----*/
#place_for_game{
  /*  width: 94%; 
    height: 90%;*/
    position: absolute;
    left: 50%;
    top:50%;
    transform: translate(-50%,-50%);
    border-radius: 5px;
    transform-style: preserve-3d;
}
.side {
    position: absolute;
    box-sizing: border-box;
    opacity: 0.7;
  }
  .left {
    transform: translate(-15px, 0px) rotateY(90deg);
    background-color: #847C7C;
    width: 30px;
    height: 100%;
  }
  .right {
    background-color: #847C7C;
    width:30px;
    height: 100%;
  }
  .top {
    transform: translate(0px, -15px) rotateX(90deg);
    background-color: #9A9EA2;
    width: 100%;
    height: 30px;
  }
  .bottom {
    background-color: #7E6961;
    width: 100%;
    height: 30px;
  }
  #for_game_layer1{
    width: 98.5%;
    height: 98%;      
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: #c3c0c0;
  }
  #top_label{
    left: 50%;
  }
  .for_label{
    position: absolute;
    top: 1%;    
    background: #c3c0c0;
    padding: 0px 3px 0px 3px;
    font-weight: 900;
    font-size: 19px;
    font-family: "Roboto", sans-serif;
    transform: translateX(-50%);
  }

  #for_game_layer2{
    width: 95%; 
    height: 91%;   
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    border: 4px solid black;
    border-radius: 2%;
  }
  #for_game_layer3{
    width: 91.5%; 
    height: 85.4%;    
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    border: 1px solid black;
    border-radius: 2%;
    background: #ff0000;
  }
  #for_game_layer4{
    width: 87%;
    height: 82.06%; 
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    border: 1px solid black;
    border-radius: 1%;
    background: #5E6C5A;
  }

  #control{
    width: 95%;
    height: 37.5%;
    display: grid;
    grid-template-rows: 16% 10% 16% 10% 16% 10%;
    grid-template-columns: 50% 30%;
    grid-template-areas: 
    "but_control1 control_img_1"
    "lab1 control1"
    "but_control2 control_img_2"
    "lab2 control2"
    "but_control3 ."
    "lab3 .";
    justify-content: space-evenly;
    justify-items: center;
  
    align-items: center;
    padding-top: 15px;
}
#control_1{grid-area: but_control1;}
#control_2{grid-area: control_img_1;}
#control_3{grid-area: lab1;}
#control_4{grid-area: control1;}
#control_5{grid-area: but_control2;}
#control_6{grid-area: control_img_2;}
#control_7{grid-area: lab2;}
#control_8{grid-area: control2;}
#control_9{grid-area: but_control3;}
#control_10{grid-area: lab3;}
#zvon{
  position: absolute;
  width: 3%;
  top: 3%;
  left: 95%;
}
#but_right{
    width: 85%;
    height: 37.5%; 
    display: grid;
    grid-template-rows: 50% 50%;
    grid-template-columns: 50% 30%;
    grid-template-areas: 
    "bord_3 img_3"
    "bord_4 img_4";
    justify-content: space-between;
    justify-items: end;
    align-items: center;
}
#img3{grid-area: img_3;}
#top_bord_right{grid-area: bord_3;}
#img4{grid-area: img_4;}
#bot_bord_right{grid-area: bord_4;}
#img3{
    border: 7px solid transparent;
    border-top: 28px solid black;
    transform: rotate(240deg);
    margin-right: 11px;
    margin-top: -37px;
}
#img4{
    border: 7px solid transparent;
    border-right: 28px solid black;
    transform: rotate(209deg);
    margin-right: 1px;
    margin-bottom: -39px;
}
#but1::after,
#but2::after,
#but3::after,
#but4::after{
    content: '';
    color: #CECDC8;
    font-size: 20px;
    font-weight: bold;
    width: 35px;
    height: 35px;
    border-radius: 100%;
    border: 3px solid #B40E07;
    position: absolute;
    transform: translate(-50%, -50%);
    transition: all 0.5s ease;
    animation: 1s linear infinite;
    line-height: 35px;
    position: absolute;
}
#but1::after {
  font-size: 15px;
  font-weight: normal;
  animation-name: rule1;
}
#but2::after {
  font-size: 15px;
  font-weight: normal;
  animation-name: rule2;
}
#but3::after{
  animation-name: rule3;
}
#but4::after{
  animation-name: rule4;
}
.for_control_button{
    width: 30px;
    height: 15px;
    border-radius: 8px;
    border: 3px solid #DB2323;
    background-color: #ffe5b4;
}
.for_control_text{
    color: black;
    font-family: "Roboto", sans-serif;
    font-size: 15px;
    padding-right: 6px;
    font-weight: bold;
}
.impuls{
    width: 10px;
    height: 10px;
    border-radius: 50%;
    background: black;
}
#control_6{
    margin-bottom: -10px;
    font-size: 12px;
    overflow: hidden;
}

#img_game{
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  z-index: 15; 
}
.var_game{
  position: absolute;  
  font-weight: bold;
  font-size: 12px;
  font-family: "Roboto", sans-serif;
  top: 95%;  
}
#gameA{
  left: 1%;
}
#gameB{
  left: 88%;
}
#ochki,
#curTime{
  top: 18%;
  left: 73%;
  font-size: 20px;
  font-weight: bold;
  font-family: "Roboto", sans-serif;
}
#curTime{
  top: 3%;
  left: 64%;
}
.imgsGame{
  display: block;
  position: absolute;
}
#game_over{
  width: 20%;
  height: 20%;
  left: 50%;
  top: 25%;
  transform: translate(-50%, -20%);
  opacity: 0;
}
#zayac{
  width: 14%;
  height: 18%;
  left: 15%;
  top: 1%;
}
#zayac_top{
  width: 10%;
  height: 12%;
  left: 28%;
  top: 0%;
}
#zayac_bottom{
  width: 12%;
  height: 12%;
  left: 23%;
  top: 12%;
}
#ch_top_left{
  width: 9%;
  height: 13%;
  left: 0%;
  top: 14%;
}
#ch_top_right{
  width: 12%;
  height: 13%;
  left: 88%;
  top: 15%;
}
#ch_bottom_left{
  width: 12%;
  height: 12%;
  left: 0%;
  top: 37%;
}
#ch_bottom_right{
  width: 11%;
  height: 14%;
  left: 89%;
  top: 35%;
}
#volk_right{
  width: 20%;
  height: 40%;
  left: 49%;
  top: 36%;
}
#volk_left{
  width: 20%;
  height: 41%;
  left: 32%;
  top: 35%;
}
#hend_top_left{
  width: 12%;
  height: 16%;
  left: 22%;
  top: 35%;
}
#hend_top_right{
  width: 10%;
  height: 13%;
  left: 68%;
  top: 58%;
}
#hend_bottom_right{
  width: 10%;
  height: 17%;
  left: 68%;
  top: 38%;
}
#hend_bottom_left{
  width: 12%;
  height: 16%;
  left: 22%;
  top: 56%;
}
#bdyj_right1,
#bdyj_right2{
  width: 11%;
  height: 9%;
  left: 71%;
  top: 82%;
}
#bdyj_left1,
#bdyj_left2{
  width: 11%;
  height: 9%;
  left: 18%;
  top: 81%;
}
.cyplenok_left{
  width: 9%;
  height: 7%;
}
#cyplenok1_left{
  left: 17%;
  top: 77%;
}
#cyplenok2_left{
  left: 11%;
  top: 79%;
}
#cyplenok3_left{
  left: 6%;
  top: 79%;
}
#cyplenok4_left{ 
  height: 8%;
  left: 0%;
  top: 78%;
}
#cyplenok1_right{
  width: 9%;
  height: 7%;
}
.cyplenok_right{
  left: 90%;
  top: 78%;
}
#cyplenok2_right{
  left: 84%;
  top: 78%;
}
#cyplenok3_right{
  left: 78%;
  top: 78%;
}
#cyplenok4_right{
  left: 73%;
  top: 76%;
}
#bant1{
  width: 4%;
  height: 6%;
  left: 72%;
  top: 10%;
}
#bant2{  
  width: 4%;
  height: 6%;
  left: 77%;
  top: 10%;
}
#bant3{  
  width: 4%;
  height: 6%;
  left: 82%;
  top: 10%;
}
#game_canvas{
  position: absolute;
  top: 50%;
  left: 50%;
  z-index: 10;
}
.eggs{
  position: absolute;
  width: 3%;
}
#eg1_left_top{
  top: 22%;
  left: 10%;
  transform: rotate(15deg);
}
#eg2_left_top{
  top: 25%;
  left: 13%;
  transform: rotate(45deg);
}
#eg3_left_top{
  top: 28%;
  left: 15%;
  transform: rotate(82deg);
}
#eg4_left_top{
  top: 32%;
  left: 18%;
  transform: rotate(114deg);
}
#eg5_left_top{
  top: 36%;
  left: 21%;
  transform: rotate(137deg);
}

#eg1_left_bot{
  top: 44%;
  left: 10%;
  transform: rotate(-45deg);
}
#eg2_left_bot{
  top: 47%;
  left: 13%;
  transform: rotate(13deg);
}
#eg3_left_bot{
  top: 50%;
  left: 15%;
  transform: rotate(74deg);
}
#eg4_left_bot{
  top: 54%;
  left: 18%;
  transform: rotate(160deg);
}
#eg5_left_bot{
  top: 58%;
  left: 21%;
  transform: rotate(198deg);
}

#eg1_right_top{
  top: 23%;
  left: 87%;
  transform: rotate(15deg);
}
#eg2_right_top{
  top: 26%;
  left: 84%;
  transform: rotate(-45deg);
}
#eg3_right_top{
  top: 29%;
  left: 81%;
  transform: rotate(82deg);
}
#eg4_right_top{
  top: 32%;
  left: 79%;
  transform: rotate(-168deg);
}
#eg5_right_top{
  top: 36%;
  left: 76%;
  transform: rotate(121deg);
}

#eg1_right_bot{
  top: 45%;
  left: 86%;
  transform: rotate(45deg);
}
#eg2_right_bot{
  top: 48%;
  left: 84%;
  transform: rotate(-13deg);
}
#eg3_right_bot{
  top: 51%;
  left: 81%;
  transform: rotate(-74deg);
}
#eg4_right_bot{
  top: 54%;
  left: 79%;
  transform: rotate(-160deg);
}
#eg5_right_bot{
  top: 58%;
  left: 76%;
  transform: rotate(-198deg);
}
@keyframes rule {
  from {
    transform: scale(1) translate(-50%, -50%);
    content: '';
  }
  100% {
    transform: scale(1) translate(-50%, -50%);
    content: '';
  }
}
@keyframes rule1 {
  from {
    transform: scale(1) translate(-50%, -50%);
    content: '';
  }
  20% {
    transform: scale(0.95) translate(-51%, -50%);
    content: 'Shift';
    line-height: 30px;
    border-top: 4px solid #B40E07;
    border-left: 4px solid #B40E07;
    border-bottom: 2px solid #B40E07;
    border-right: 2px solid #B40E07;
  }
  100% {
    transform: scale(1) translate(-50%, -50%);
    content: '';
  }
}

@keyframes rule2 {
  from {
    transform: scale(1) translate(-50%, -50%);
    content: '';
  }
  40% {
    transform: scale(0.95) translate(-51%, -50%);
    content: 'Ctrl';
    line-height: 30px;
    border-top: 4px solid #B40E07;
    border-left: 4px solid #B40E07;
    border-bottom: 2px solid #B40E07;
    border-right: 2px solid #B40E07;
  }
  100% {
    transform: scale(1) translate(-50%, -50%);
    content: '';
  }
}
@keyframes rule3 {
  from {
    transform: scale(1) translate(-50%, -50%);
    content: '';
  }
  60% {
    transform: scale(0.95) translate(-50%, -50%);
    content: '↑';
    line-height: 30px;
    border-top: 4px solid #B40E07;
    border-left: 4px solid #B40E07;
    border-bottom: 2px solid #B40E07;
    border-right: 2px solid #B40E07;
  }
  100% {
    transform: scale(1) translate(-50%, -50%);
    content: '';
  }
}
@keyframes rule4 {
  from {
    transform: scale(1) translate(-50%, -50%);
    content: '';
  }
  80% {
    transform: scale(0.95) translate(-50%, -50%);
    content: '↓';
    line-height: 30px;
    border-top: 4px solid #B40E07;
    border-left: 4px solid #B40E07;
    border-bottom: 2px solid #B40E07;
    border-right: 2px solid #B40E07;
  }
  50% {
    transform: scale(1) translate(-50%, -50%);
    content: '';
  }
}
/*--------------------------------------------------*/
/*--------------------------------------------------*/
/*--------------------------------------------------*/
/*планшеты в портретной ориентации (вертикально);*/

@media  all and (min-width : 621px) and (max-width : 1060px) {
      body{ width: 50px; height: 50px;}
      #place_game_out{
        max-width: 600px;
        position: absolute;
        max-height: 800px;
       /* height: 30%;*/
        left: 50%;
        top: 50%;
      /*  transform: translate(-50%, -50%);*/
        }
      #place_game_in{
        max-width: 600px;
        max-height: 800px;
        flex-direction: column;
        align-items: center;
        }
      #place_game_I{
        width: 100%;
        height: 15%;
        flex-direction: row;
        transform: rotate(180deg);
        }
      #logo{
        top: 0%;
        left: 8%;
        }
      #but_left{
        width: 17%;
        height: 150%;
        transform: rotate(-90deg) translate(-11%, -31%);
        }
      #img1{ 
        border-top: 24px solid black; 
        margin-right: -5px;
        transform: rotate(118deg) translate(0px, 0px);
        }
      #img2{ 
        border-left: 24px solid black;
        margin-right: -14px;
        transform: rotate(143deg) translate(0px, 0px);
        }
      .borderBut,
      .for_button{
        width: 35px;
        height: 35px;
      }
      #but1, #but2{
        top: 0;
        left: 0;
      }
      #place_game_II{
        width: 90%; 
        height: 70%;
        transform: rotate(180deg) translate(0%, 0%);
        }
      #for_game_layer1,
      #for_game_layer2,
      #for_game_layer3{
        transform: rotate(180deg) translate(50%, 50%);
        }
    
      #place_game_III{
        width: 100%;
        height: 15%;
        transform: rotate(180deg);
        justify-content: space-between;
        flex-direction: row;
        }
        /*----*/
     /* #place_for_game{
        max-width: 75%;
       /* width: 100%;
        height: 98%;*/
       /* }*/
      .left {
        height: 26px;
        width: 103%;
        }
      .right {
        height: 26px;
        width: 103%;
        transform: translate(-6px, -10px) rotateX(90deg);
        }
      .top {
        transform: translate(-18px, 4px) rotateY(90deg);
        height: 98%;
        width: 26px;
        }
      .bottom {
        height: 98%;
        width: 26px;
       }   
      #top_label{
        left: -4px;
        }
      .for_label{
        top:50%;  
            /*left: 0%;*/
        transform-origin: 0% 0%;
        transform: rotate(-90deg) translate(-50%,0%);
        font-size: 14px;
        }
      .to_bottom{
        transform-origin: 0% 0%;
        height: 15px;
        }
      #for_game_layer1{
        width: 100%;/*109%;*/
        height: 96.5%;
        margin-left: 0;
        }
      #for_game_layer2{
        width: 96%;/*100%;*/
        height: 92%;
        margin-left: 0;
       }
      #for_game_layer3{
        width: 92%; 
        height: 89%;
        }         
      #control{
        width: 105px;
        height: 100%;
        grid-template-rows: 25% 25% 25% 25% 33% 18%;
        grid-template-columns: 50% 21%;
        transform: translate(4%, -61%);
        justify-content: center;
        padding-top: 0;
        transform: rotate(-90deg) translate(0px, 16px);
        }
      #but_right{
        width: 17%;
        height: 150%;
        transform: rotate(-90deg) translate(23%, -31%);
        }
      #img3{ 
        border-top: 24px solid black;
        margin-right: 10px;
        transform: rotate(240deg) translate(2px, -3px);
        }
      #img4{ 
        border-right: 24px solid black;
        margin-right: 2px;
        transform: rotate(215deg) translate(5px, 0px);
        }
      .for_control_button{
        width: 30px;
        height: 15px;
        }
      #gameB{
        left: 84%;
        }
      #zvon {
        position: absolute;
        width: 3%;
        top: 7%;
        left: 4%;
        transform: rotate(-90deg);}
      #ochki {
        font-size: 14px;
        }
        #but1::after,
        #but2::after,
        #but3::after,
        #but4::after
         {
          width: 30px;
          height: 30px;
          font-size: 12px;
          font-weight: normal;
        }
        #but2::after {
          animation-name: rule2;
        }
        #but3::after{
          animation-name: rule3;
        }
        #but4::after{
          animation-name: rule4;
        }
        @keyframes rule1 {
          from {
            transform: scale(1) translate(-50%, -50%);
            content: '';
          }
          20% {
            transform: scale(0.95) translate(-51%, -50%);
            content: 'touch';
            line-height: 30px;
            border-top: 2px solid #B40E07;
            border-left: 2px solid #B40E07;
            border-bottom: 4px solid #B40E07;
            border-right: 4px solid #B40E07;
          }
          100% {
            transform: scale(1) translate(-50%, -50%);
            content: '';
          }
        }
        
        @keyframes rule2 {
          from {
            transform: scale(1) translate(-50%, -50%);
            content: '';
          }
          40% {
            transform: scale(0.95) translate(-51%, -50%);
            content: 'touch';
            line-height: 30px;
            border-top: 2px solid #B40E07;
            border-left: 2px solid #B40E07;
            border-bottom: 4px solid #B40E07;
            border-right: 4px solid #B40E07;
          }
          100% {
            transform: scale(1) translate(-50%, -50%);
            content: '';
          }
        }
        @keyframes rule3 {
          from {
            transform: scale(1) translate(-50%, -50%);
            content: '';
          }
          60% {
            transform: scale(0.95) translate(-50%, -50%);
            content: 'touch';
            line-height: 30px;
            border-top: 2px solid #B40E07;
            border-left: 2px solid #B40E07;
            border-bottom: 4px solid #B40E07;
            border-right: 4px solid #B40E07;
          }
          100% {
            transform: scale(1) translate(-50%, -50%);
            content: '';
          }
        }
        @keyframes rule4 {
          from {
            transform: scale(1) translate(-50%, -50%);
            content: '';
          }
          80% {
            transform: scale(0.95) translate(-50%, -50%);
            content: 'touch';
            line-height: 30px;
            border-top: 4px solid #B40E07;
            border-left: 4px solid #B40E07;
            border-bottom: 2px solid #B40E07;
            border-right: 2px solid #B40E07;
          }
          50% {
            transform: scale(1) translate(-50%, -50%);
            content: '';
          }
        }
      }

/*смартфоны в альбомной ориентации (горизонтально)*/
@media  all and (min-width : 10px) and (max-width : 620px) {
  body{ width: 50px; height: 50px;}
  #place_game_out{
    position: absolute; 
    max-height: 650px;
    }

    #place_game_in{
      max-width: 600px;
      max-height: 650px;
      flex-direction: column;
      align-items: center;
    }
    #place_game_I{
        width: 100%;
        height: 18%;
        flex-direction: row;
        transform: rotate(180deg);
    }
    #place_game_II{
     width: 94%; 
     height: 64%;
      transform: rotate(180deg) translate(0%, 0%);
    }
    #place_game_III{
      width: 100%;
      height: 18%;
      transform: rotate(180deg);
      justify-content: space-between;
      flex-direction: row;
    }


    #logo{
      top: 0%;
      left: 8%;
    }
    #but_left{
      width: 20%;
      height: 100%;
      transform: rotate(-90deg) translate(-18%, -31%);
    }
    #img1{ 
      border-top: 24px solid black; 
      transform: rotate(126deg) translate(7px, 0px);
    }
    #img2{ 
      border-left: 24px solid black;
      transform: rotate(143deg) translate(0px, 4px);
    }
    .borderBut,
    .for_button{
        width: 30px;
        height: 30px;
    }
    #but1, #but2{
        top: 0;
        left: 0;
    }
    #for_game_layer1,
    #for_game_layer2,
    #for_game_layer3{
      transform: rotate(180deg) translate(50%, 50%);
    }
    /*----*/
    #place_for_game{
    /*  width: 100%; 
      height: 100%;*/
      max-width: 380px;
      border-radius: 5px;
      transform-style: preserve-3d;
    }
      .left {
        height: 26px;
        width: 101.5%;
      }
      .right {
        height: 26px;
        width: 101.5%;
        transform: translate(-0.5%, -9px) rotateX(90deg);
      }
      .top {
        transform: translate(-64%, 0.75%) rotateY(90deg);
        height: 98.5%;
        width: 26px;
}
      .bottom {
        height: 98.5%;
        width: 26px;
      }
      #top_label{
        left: 0%;
      }
      .for_label{
        top:50%;  
        transform-origin: 0% 0%;
        transform: rotate(-90deg) translate(-50%, 0%);       
        font-size: 13px;
      }
      .to_bottom{
        height: 13px;
      }
      #for_game_layer1{
        width: 100%;
        height: 96.5%;
      }
      #for_game_layer2{
        width: 94%;
        height: 92%;
      }
      #for_game_layer3{
        width: 90%; 
        height: 89%;
      }
      #control{
        width: 105px;
        height: 100%; 
        grid-template-rows: 18% 18% 18% 18% 18% 18%;
        grid-template-columns: 50% 21%;
        padding-top: 0;
        transform: rotate(-90deg) translate(-5px, 22px);
    }
    #but_right{
      width: 20%;
      height: 100%;
      transform: rotate(-90deg) translate(12%, -31%);
    }
    #img3{ 
      border-top: 24px solid black;
      transform: rotate(240deg) translate(1px, -2px);
    }
    #img4{ 
      border-right: 24px solid black;
      transform: rotate(215deg) translate(1px, -2px);
    }
    .for_control_button{
        width: 30px;
        height: 15px;
    }
#gameB{
  left: 84%;
}
#zvon {
  position: absolute;
  width: 4%;
  top: 16%;
  left: 5%;
  transform: rotate(-90deg);
}
#ochki{
  /* top: 18%;
   left: 73%;*/
   font-size: 12px;
 }
 #but1::after,
 #but2::after,
 #but3::after,
 #but4::after
  {
   width: 28px;
   height: 28px;
   font-size: 12px;
   font-weight: normal;
 }
 #but2::after {
   animation-name: rule2;
 }
 #but3::after{
   animation-name: rule3;
 }
 #but4::after{
   animation-name: rule4;
 }
 @keyframes rule1 {
   from {
     transform: scale(1) translate(-50%, -50%);
     content: '';
   }
   20% {
     transform: scale(0.95) translate(-51%, -50%);
     content: 'touch';
     line-height: 28px;
     border-top: 2px solid #B40E07;
     border-left: 2px solid #B40E07;
     border-bottom: 4px solid #B40E07;
     border-right: 4px solid #B40E07;
   }
   100% {
     transform: scale(1) translate(-50%, -50%);
     content: '';
   }
 }
 
 @keyframes rule2 {
   from {
     transform: scale(1) translate(-50%, -50%);
     content: '';
   }
   40% {
     transform: scale(0.95) translate(-51%, -50%);
     content: 'touch';
     line-height: 28px;
     border-top: 2px solid #B40E07;
     border-left: 2px solid #B40E07;
     border-bottom: 4px solid #B40E07;
     border-right: 4px solid #B40E07;
   }
   100% {
     transform: scale(1) translate(-50%, -50%);
     content: '';
   }
 }
 @keyframes rule3 {
   from {
     transform: scale(1) translate(-50%, -50%);
     content: '';
   }
   60% {
     transform: scale(0.95) translate(-50%, -50%);
     content: 'touch';
     line-height: 28px;
     border-top: 2px solid #B40E07;
     border-left: 2px solid #B40E07;
     border-bottom: 4px solid #B40E07;
     border-right: 4px solid #B40E07;
   }
   100% {
     transform: scale(1) translate(-50%, -50%);
     content: '';
   }
 }
 @keyframes rule4 {
   from {
     transform: scale(1) translate(-50%, -50%);
     content: '';
   }
   80% {
     transform: scale(0.95) translate(-50%, -50%);
     content: 'touch';
     line-height: 30px;
     border-top: 4px solid #B40E07;
     border-left: 4px solid #B40E07;
     border-bottom: 2px solid #B40E07;
     border-right: 2px solid #B40E07;
   }
   50% {
     transform: scale(1) translate(-50%, -50%);
     content: '';
   }
 }
}

</style>
<script>
  

window.addEventListener('load', add_svg);
window.addEventListener('load', addGame);

window.addEventListener('resize', addGame);

var contr1 = document.getElementById('control_1');
var contr2 = document.getElementById('control_2');
var contr3 = document.getElementById('control_3');
contr1.addEventListener('touchstart', control1, false);
contr2.addEventListener('touchstart', control2, false);
contr3.addEventListener('touchstart', for_control3, false);
var time_start = 0; //отслеживание выбора режима игры
var flag_zaya=0; //отслеживание появление зайца
var shtraf; //счет штрафных очков
var ball; //счет пойманных яиц
var flag = 0; //для обнуления счета
var time_change = 2;
var control_sec, flag_sec;

setInterval(get_size, 1000/4);

function get_size(){
/*  var ratio = window.devicePixelRatio || 1;
  var screen_size ={
    newWid: window.innerWidth,// || screen.width*ratio,//*ratio,
    newHeig: window.innerHeight// || screen.height*ratio//*ratio
  };*/
  var sec = control3();
  zayac_move(time_start, sec);
  gameA(time_start, sec); //запуск игры А
  gameB(time_start, sec); //запуск игры Б
  document.getElementById('ochki').innerText = ball;
//  return screen_size; 
addGame();
}

function addGame() {
  var sizePart = {};
  var widthEl = 0;
  var heightEl = 0;
 // var screen_size = get_size();
  var newWid = window.innerWidth;
  var newHeig = window.innerHeight;
  var allPartGame = document.getElementById('place_game_out');

  if (newWid < 621) {
    widthEl = newWid-20;
    heightEl = newHeig-20;
    console.log('tyt', widthEl, heightEl);
    allPartGame.style.width = widthEl + 'px';
    allPartGame.style.height = heightEl + 'px';
   
    //для канвас делаем новые размеры после ротейт
    var placeForGame = document.getElementById('place_for_game');
        placeForGame.style.width = "100%";
        placeForGame.style.height = "100%";   
    var placeGame = placeForGame.getBoundingClientRect();

    var newW = 0.855 * placeGame.height;
    var newH = 0.865 * placeGame.width;

    var placeLayer4 = document.getElementById('for_game_layer4');
        placeLayer4.style.width = newW + 'px';
        placeLayer4.style.height = newH + 'px';
        placeLayer4.style.transform = 'rotate(90deg) translate(-' + 0.5 * newH + 'px,' + 0.5 * newW + 'px)';

    var layer4 = placeLayer4.getBoundingClientRect();

    var imgs = document.getElementById('img_game');
        imgs.style.width = newW + 'px';
        imgs.style.height = newH + 'px';
        imgs.style.transform = 'rotate(90deg) translate(-' + 0.5 * newH + 'px,' + 0.5 * newW + 'px)';//'translate(-'+ 0.5*layer4.height + 'px, -' + + 0.5 * layer4.width+'px) rotate(90deg)';
  
    var canvas = document.getElementById('game_canvas');
        sizePart.gamePartW = document.getElementById('for_game_layer4').offsetWidth;
        sizePart.gamePartH = document.getElementById('for_game_layer4').offsetHeight;
      //  sizePart.gamePartW = newW;
       // sizePart.gamePartH = newH;   
        canvas.style.transform = 'rotate(90deg) translate(-' + 0.5 * newH + 'px,' + 0.5 * newW + 'px)';//'translate(-50%, -50%) rotate(90deg)';



    var botGran = document.getElementById('place_for_game');
    var elemGran = botGran.getBoundingClientRect();
    //плашки
    var forLeft = elemGran.height - 16;
    var forBottom = elemGran.width - document.getElementsByClassName('bottom')[0].offsetWidth / 2 + 4;//9;
    document.getElementsByClassName('bottom')[0].style.transform = 'translate(' + forBottom + 'px, 3px) rotateY(90deg)';
    document.getElementsByClassName('left')[0].style.transform = 'translate(-2px, ' + forLeft + 'px) rotateX(90deg)';
    document.getElementsByClassName('right')[0].style.transform = 'transform: translate(-0,5%, -9px) rotateX(90deg)';   
    //подписи
    var elemLabel = forBottom - document.getElementsByClassName('to_bottom')[0].offsetHeight/2;    
    document.getElementsByClassName('to_bottom')[0].style.left = elemLabel + 'px';
    document.getElementsByClassName('to_bottom')[0].style.top = '50%';

    var logo1 = document.getElementById('logo');
    var elem_logo = logo1.getBoundingClientRect(); 
    document.getElementById('svg1').style.transform = 'rotate(90deg)';
    document.getElementById('svg1').style.top = elem_logo.y + 'px';
    document.getElementById('svg1').style.left = elem_logo.x + 'px';

    var control_6 = document.getElementById('control_6');
    var control = control_6.getBoundingClientRect();
    document.getElementById('svg2').style.top = control.top - 4 + 'px';
    document.getElementById('svg2').style.left = control.x - 5 + 'px';
    document.getElementById('svg2').style.transform = 'rotate(90deg) translate(-11px, 2px)';
  }
  else if (newWid > 620 && newWid < 1061) {
    widthEl = newWid * 0.92;
    heightEl = newHeig * 0.92;
    allPartGame.style.width = widthEl + 'px';
    allPartGame.style.height = heightEl + 'px';
    allPartGame.style.transform = 'translate(-50%,-50%)';

    var placeII = document.getElementById('place_game_II');
    var placeGameII = placeII.getBoundingClientRect();

  //  var placeIIW = placeGameII.width;
    var placeIIH = placeGameII.height;
    var pnewH = placeIIH;   
    var pnewW = 0.75 * placeIIH;      
    var placeForGame = document.getElementById('place_for_game');
    var placeGame = placeForGame.getBoundingClientRect();
        placeForGame.style.width = pnewW + 'px';
        placeForGame.style.height = pnewH + 'px'; 
    
    var newW = 0.87 * pnewH;//placeGame.height; 0.87 
    var newH =  0.88 * pnewW;//placeGame.width;0.90

    var placeLayer4 = document.getElementById('for_game_layer4');
        placeLayer4.style.width = newW + 'px';
        placeLayer4.style.height = newH + 'px';
        placeLayer4.style.transform = 'rotate(90deg) translate(-' + 0.5 * newH + 'px,' + 0.5 * newW + 'px)';
  

  //  var layer4 = placeLayer4.getBoundingClientRect();
    var imgs = document.getElementById('img_game');
        imgs.style.width = newW + 'px';
        imgs.style.height = newH + 'px';
        imgs.style.transform = 'rotate(90deg) translate(-' + 0.5 * newH + 'px,' + 0.5 * newW + 'px)';//'translate(-50%, -50%) rotate(90deg)';

    var canvas = document.getElementById('game_canvas');
        canvas.style.transform = 'rotate(90deg) translate(-' + 0.5 * newH + 'px,' + 0.5 * newW + 'px)';//'translate(-50%, -50%) rotate(90deg)';

        sizePart.gamePartW = newW;
        sizePart.gamePartH = newH;

    var botGran = document.getElementById('place_for_game');
    var elemGran = botGran.getBoundingClientRect();
    //плашки
    var forLeft = elemGran.height - document.getElementsByClassName('left')[0].offsetHeight / 2 - 2;
    var forBottom = elemGran.width - document.getElementsByClassName('bottom')[0].offsetWidth / 2 + 4;
    document.getElementsByClassName('bottom')[0].style.transform = 'translate(' + forBottom + 'px, 4px) rotateY(90deg)';
    document.getElementsByClassName('left')[0].style.transform = 'translate(-6px, ' + forLeft + 'px) rotateX(90deg)';
    document.getElementsByClassName('right')[0].style.transform = 'translate(-6px, -10px) rotateX(90deg)';
    //подписи
    var elemLabel = forBottom-4  - document.getElementsByClassName('to_bottom')[0].offsetHeight/2;   
    document.getElementsByClassName('to_bottom')[0].style.left = elemLabel + 7 + 'px';
    document.getElementsByClassName('to_bottom')[0].style.top = '50%';


    var logo1 = document.getElementById('logo');
    var elem_logo = logo1.getBoundingClientRect(); 
    document.getElementById('svg1').style.transform = 'rotate(90deg)';
    document.getElementById('svg1').style.top = elem_logo.y + 'px';
    document.getElementById('svg1').style.left = elem_logo.x + 'px';


    var control_6 = document.getElementById('control_6');
    var control = control_6.getBoundingClientRect();
    document.getElementById('svg2').style.top = control.top - 4 + 'px';
    document.getElementById('svg2').style.left = control.x - 5 + 'px';
    document.getElementById('svg2').style.transform = 'rotate(90deg) translate(-12px, 2px)';

  }
  else if (newWid > 1060) {
    widthEl = 0.68 * newWid;
    heightEl = 0.7 * newHeig;
    allPartGame.style.width = widthEl + 'px';
    allPartGame.style.height = heightEl + 'px';
    allPartGame.style.transform = 'translate(-50%,-50%)';

    var placeForGame = document.getElementById('place_for_game');
      placeForGame.style.width = "94%";
      placeForGame.style.height = "90%"; 

    var gameLayer4 = document.getElementById('for_game_layer4');
    var layer4 = gameLayer4.getBoundingClientRect();
    var newW = 0.57 * widthEl;
    var newH = 0.7206 * heightEl;

    var placeLayer4 = document.getElementById('for_game_layer4');
        placeLayer4.style.width = newW +'px';
        placeLayer4.style.height = newH +'px';
        placeLayer4.style.transform = 'translate(-50%, -50%) rotate(0deg)';


    var canvas = document.getElementById('game_canvas');
        canvas.style.transform = 'translate(-50%, -50%) rotate(0deg)';

        sizePart.gamePartW = document.getElementById('for_game_layer4').offsetWidth;
        sizePart.gamePartH = document.getElementById('for_game_layer4').offsetHeight;

    var imgs = document.getElementById('img_game');
        imgs.style.width = newW +'px';
        imgs.style.height = newH +'px';
        imgs.style.transform = 'translate(-50%, -50%) rotate(0deg)';

    var botGran = document.getElementById('place_for_game');
    var elemGran = botGran.getBoundingClientRect();

    //плашки
    var forRight = elemGran.width - document.getElementsByClassName('right')[0].offsetWidth / 2;
    var forBottom = elemGran.height - document.getElementsByClassName('bottom')[0].offsetHeight / 2;;    
    document.getElementsByClassName('bottom')[0].style.transform = 'translate(0px,' + forBottom + 'px) rotateX(90deg)';
    document.getElementsByClassName('right')[0].style.transform = 'translate(' + forRight + 'px, 0px) rotateY(90deg)';
    document.getElementsByClassName('left')[0].style.transform = 'translate(-15px, 0px) rotateY(90deg)';   
    //подписи
    var forLabelBot = forBottom -4 - document.getElementsByClassName('to_bottom')[0].offsetHeight/2;//document.getElementById('for_game_layer2').offsetHeight;    
    document.getElementsByClassName('to_bottom')[0].style.top = forLabelBot + 'px';
    document.getElementsByClassName('to_bottom')[0].style.left = '50%';


    var logo1 = document.getElementById('logo');
    var elem_logo = logo1.getBoundingClientRect(); 
    document.getElementById('svg1').style.transform = 'rotate(0deg)';
    document.getElementById('svg1').style.top = elem_logo.y + 'px';
    document.getElementById('svg1').style.left = elem_logo.x + 'px';
    
    var control_6 = document.getElementById('control_6');
    var control = control_6.getBoundingClientRect();
    document.getElementById('svg2').style.top = control.top - 4 + 'px';
    document.getElementById('svg2').style.left = control.x - 5 + 'px';
    document.getElementById('svg2').style.transform = 'rotate(0deg)';
  }
  add_canvas(sizePart);
}

function add_svg() {
  //рисуем логотип
  var logo1 = document.getElementById('logo');
  var elem_logo = logo1.getBoundingClientRect();  

  var svg = document.createElementNS("http://www.w3.org/2000/svg", "svg");
  var logoW = document.getElementById('logo').offsetWidth;
  var logoH = document.getElementById('logo').offsetHeight;
  var svgX = elem_logo.x;
  var svgY = elem_logo.y;
  svg.setAttribute('width', logoW);
  svg.setAttribute('height', logoH);
  svg.style.position = 'absolute';
  svg.style.top = svgY + 'px';
  svg.style.left = svgX + 'px';
  svg.id = 'svg1';

  var part = [];
  var masXY = {
    0: { 11: 0.1, 12: 0.2, 21: 0.3, 22: 0.2 },//и
    1: { 11: 0.3, 12: 0.2, 21: 0.1, 22: 0.65 },//и
    2: { 11: 0.1, 12: 0.65, 21: 0.55, 22: 0.2 },//и
    3: { 11: 0.55, 12: 0.2, 21: 0.35, 22: 0.65 },//и
    4: { 11: 0.1, 12: 0.9, 21: 0.25, 22: 0.9 },//m
    5: { 11: 0.25, 12: 0.9, 21: 0.7, 22: 0.45 },//m
    6: { 11: 0.7, 12: 0.45, 21: 0.5, 22: 0.9 },//m
    7: { 11: 0.5, 12: 0.9, 21: 0.9, 22: 0.45 },//m
    8: { 11: 0.9, 12: 0.45, 21: 0.7, 22: 0.9 }//m
  };

  for (var i = 0; i < 9; i++) {
    part[i] = document.createElementNS(svg.namespaceURI, 'line');
    part[i].setAttribute('x1', logoW * masXY[i][11]);
    part[i].setAttribute('y1', logoH * masXY[i][12]);
    part[i].setAttribute('x2', logoW * masXY[i][21]);
    part[i].setAttribute('y2', logoH * masXY[i][22]);
    part[i].setAttribute('stroke', 'black');
    part[i].setAttribute('stroke-width', 3);
    svg.appendChild(part[i]);
  }
  document.body.appendChild(svg);

  var svg2 = document.createElementNS("http://www.w3.org/2000/svg", "svg");

  var control_6 = document.getElementById('control_6');
  var control = control_6.getBoundingClientRect();
 // console.log('tyt', control.top, control.x);
  var controlW = 2.5 * document.getElementById('control_6').offsetWidth;
  var controlH = 2.5 * document.getElementById('control_6').offsetHeight;

  for (var i = 0; i < 11; i++) {
    if (i < 3 || i > 7) {
      var curcleItem = document.createElementNS(svg2.namespaceURI, 'circle');
      var curcleItemX = controlW * 0.6 + controlW * 0.5 * Math.sin(360 / 12 / 180 * Math.PI * (i + 1));
      var curcleItemY = controlW * 0.6 - controlW * 0.5 * Math.cos(360 / 12 / 180 * Math.PI * (i + 1));
      curcleItem.setAttribute('cx', curcleItemX*0.7);
      curcleItem.setAttribute('cy', curcleItemY);
      curcleItem.setAttribute('r', 1.5);
      curcleItem.setAttribute("fill", "black");
      svg2.appendChild(curcleItem);
    }
  }

  svg2.setAttribute('width', controlW);
  svg2.setAttribute('height', controlH);
  svg2.style.position = 'absolute';
  svg2.style.top = control.top - 4 + 'px';
  svg2.style.left = control.x - 5 + 'px';
  svg2.id = 'svg2';
  document.body.appendChild(svg2);
}

function add_canvas(sizeP) {
  const xmlns = "http://www.w3.org/2000/svg";
  var canvas = document.getElementById('game_canvas');
  const canvasPart = canvas.getContext("2d");
  canvasPart.clearRect(0, 0, canvasPart.canvas.width, canvasPart.canvas.height);
  canvasPart.canvas.width = sizeP.gamePartW;
  canvasPart.canvas.height = sizeP.gamePartH;

  const ctx = canvas.getContext("2d");
  var posGameX = Math.round(sizeP.gamePartW, 2);
  var posGameY = Math.round(sizeP.gamePartH, 2);

  //крыша
  ctx.beginPath();
  ctx.lineWidth = 8;
  ctx.fillStyle = "#941121";
  ctx.strokeStyle = 'grey';
  for (var i = 0; i < 2; i++) {
    ctx.moveTo(posGameX * 0.01, posGameY * 0.13);
    ctx.lineTo(posGameX * 0.075, posGameY * 0.01);
    ctx.lineTo(posGameX * 0.18, posGameY * 0.23);
    ctx.stroke();
    if (i === 0) {
      ctx.beginPath();
      ctx.lineWidth = 3;
      ctx.fillStyle = "#851E1F";
      ctx.strokeStyle = '#851E1F';
    }
  }

  //труба
  ctx.beginPath();
  ctx.lineWidth = 2;
  ctx.strokeStyle = "#ff0000";
  ctx.moveTo(posGameX * 0.11, posGameY * 0.07);
  ctx.lineTo(posGameX * 0.15, posGameY * 0.07);
  ctx.lineTo(posGameX * 0.15, posGameY * 0.15);
  ctx.fill();

  ctx.stroke();
  ctx.closePath();
  //выход
  ctx.beginPath();
  ctx.lineWidth = 2;
  ctx.strokeStyle = "#5A5F60";
  ctx.moveTo(posGameX * 0.15, posGameY * 0.15);
  ctx.lineTo(posGameX * 0.15, posGameY * 0.09);
  ctx.lineTo(posGameX * 0.17, posGameY * 0.09);
  ctx.lineTo(posGameX * 0.17, posGameY * 0.16);
  ctx.lineTo(posGameX * 0.21, posGameY * 0.2);
  ctx.lineTo(posGameX * 0.21, posGameY * 0.03);
  ctx.lineTo(posGameX * 0.17, posGameY * 0.09);
  //окно
  ctx.moveTo(posGameX * 0.17, posGameY * 1.6);
  ctx.lineTo(posGameX * 0.21, posGameY * 1.62);
  ctx.stroke();

  //склон  4 шт
  var posY = [0, 0.215, 0, 0.215];
  var posX = {
    0: { 0: 0, 1: 0.11, 2: 0.2, 3: 0.165, 4: 0.165 },
    1: { 0: 0, 1: 0.11, 2: 0.2, 3: 0.165, 4: 0.165 },
    2: { 0: 1, 1: 0.89, 2: 0.8, 3: 0.835, 4: 0.835 },
    3: { 0: 1, 1: 0.89, 2: 0.8, 3: 0.835, 4: 0.835 }
  };
  ctx.beginPath();
  ctx.lineWidth = 3;
  ctx.strokeStyle = "#6B4C21";
  for (i = 0; i < 4; i++) {
    ctx.moveTo(posGameX * posX[i][0], posGameY * (0.27 + posY[i]));
    ctx.lineTo(posGameX * posX[i][1], posGameY * (0.27 + posY[i]));
    ctx.lineTo(posGameX * posX[i][2], posGameY * (0.385 + posY[i]));

    //подпорка
    ctx.moveTo(posGameX * posX[i][3], posGameY * (0.35 + posY[i]));
    ctx.lineTo(posGameX * posX[i][4], posGameY * (0.45 + posY[i]));
    ctx.stroke();
  }
  //забор
  ctx.beginPath();
  ctx.lineWidth = 7;
  ctx.strokeStyle = "#6B4C21";
  ctx.moveTo(posGameX * 0.01, posGameY * 0.495);
  ctx.lineTo(posGameX * 0.01, posGameY * 0.62);
  ctx.moveTo(posGameX * 0.043, posGameY * 0.495);
  ctx.lineTo(posGameX * 0.043, posGameY * 0.62);
  ctx.moveTo(posGameX * 0.083, posGameY * 0.495);
  ctx.lineTo(posGameX * 0.083, posGameY * 0.62);

  ctx.moveTo(posGameX * 0.120, posGameY * 0.52);
  ctx.lineTo(posGameX * 0.120, posGameY * 0.645);
  ctx.moveTo(posGameX * 0.152, posGameY * 0.55);
  ctx.lineTo(posGameX * 0.152, posGameY * 0.675);
  ctx.fillStyle = "#6B4C21";
  ctx.stroke();

  //забор
  ctx.beginPath();
  ctx.lineWidth = 7;
  ctx.strokeStyle = "#6B4C21";
  ctx.moveTo(posGameX * 0.99, posGameY * 0.495);
  ctx.lineTo(posGameX * 0.99, posGameY * 0.62);
  ctx.moveTo(posGameX * 0.957, posGameY * 0.495);
  ctx.lineTo(posGameX * 0.957, posGameY * 0.62);
  ctx.moveTo(posGameX * 0.917, posGameY * 0.495);
  ctx.lineTo(posGameX * 0.917, posGameY * 0.62);
  ctx.moveTo(posGameX * 0.88, posGameY * 0.52);
  ctx.lineTo(posGameX * 0.88, posGameY * 0.645);
  ctx.moveTo(posGameX * 0.848, posGameY * 0.55);
  ctx.lineTo(posGameX * 0.848, posGameY * 0.675);
  ctx.fillStyle = "#6B4C21";
  ctx.stroke();

  //куст
  var setRad = [20, 8, 8, 20, 8]; //радиусы большого круга для отрисовки кустов
  var flag = 1;
  var setX = [1, 2.95, 16.7, 18.8, 18.8], setY = [1, 1.04, 1.04, 1, 0.1]; //смещение кустов по оси х, у
  ctx.beginPath();
  ctx.lineWidth = 1;
  for (var i = 0; i < 5; i++) //всего 4 куста в ряд
  {
    ctx.moveTo(posGameX * 0.05 * setX[i] + setRad[i], posGameY * 0.7 * setY[i]);
    ctx.arc(posGameX * 0.05 * setX[i], posGameY * 0.7 * setY[i], setRad[i], 0, Math.PI * 2, true);
    for (var j = 0; j < 12; j++) {
      var degX = posGameX * 0.05 * setX[i] - setRad[i] * Math.sin(360 / 12 / 180 * Math.PI * (j + 1));
      var degY = posGameY * 0.7 * setY[i] - setRad[i] * Math.cos(360 / 12 / 180 * Math.PI * (j + 1));
      ctx.moveTo(degX, degY);
      ctx.arc(degX, degY, 5 + flag, 0, Math.PI * 2, true);
      flag = flag + 1;
      if (flag == 3)
        flag = flag + 3;
      if (flag == 7)
        flag = 2;
    }
    flag = 1;
    ctx.fillStyle = "#2C390B";
    ctx.fill();
  }


  //большая трава
  ctx.beginPath();
  ctx.lineWidth = 3;
  ctx.strokeStyle = "#2C390B";
  var flag = 0;
  for (var i = 0; i < 2; i++) {
    x = 0;
    if (i == 1)
      flag = 0.8;
    ctx.moveTo(posGameX * (flag), posGameY * 0.85);
    for (var j = 1; j < 4; j++) {
      ctx.lineTo(posGameX * (0.01 + x + flag), posGameY * 0.88);
      ctx.lineTo(posGameX * (0.02 + x + flag), posGameY * 0.86);
      ctx.lineTo(posGameX * (0.05 + x + flag), posGameY * 0.88);
      ctx.lineTo(posGameX * (0.09 + x + flag), posGameY * 0.86);
      ctx.lineTo(posGameX * (0.11 + x + flag), posGameY * 0.89);
      ctx.lineTo(posGameX * (0.15 + x + flag), posGameY * 0.86);
      ctx.lineTo(posGameX * (0.16 + x + flag), posGameY * 0.89);
      x = j * 0.015;
    }
    ctx.lineTo(posGameX * (0.01 + flag), posGameY * 0.89);
    ctx.fill();
    ctx.stroke();
  }
  //трава 4 шт. по центру
  ctx.beginPath();
  ctx.lineWidth = 3;
  ctx.strokeStyle = "#2C390B";
  var flag = 1, x;
  var sdvigX = [0.1, 0.25, 0.4, 0.3];
  var sdvigY = [0, 0.053, 0, 0.09];
  for (var i = 0; i < 4; i++) {
    x = 0;
    if (i == 3)
      flag = 0.8;
    ctx.moveTo(posGameX * (0.186 + sdvigX[i]), posGameY * (0.89 * flag + sdvigY[i]));//3
    for (var j = 0; j < 2; j++) {
      ctx.lineTo(posGameX * (0.186 + x + sdvigX[i]), posGameY * (0.91 * flag + sdvigY[i]));//-0.1
      ctx.lineTo(posGameX * (0.195 + x + sdvigX[i]), posGameY * (0.89 * flag + sdvigY[i]));//3
      ctx.lineTo(posGameX * (0.201 + x + sdvigX[i]), posGameY * (0.91 * flag + sdvigY[i]));//3
      ctx.lineTo(posGameX * (0.211 + x + sdvigX[i]), posGameY * (0.89 * flag + sdvigY[i]));//3
      ctx.lineTo(posGameX * (0.224 + x + sdvigX[i]), posGameY * (0.91 * flag + sdvigY[i]));//3
      ctx.lineTo(posGameX * (0.235 + x + sdvigX[i]), posGameY * (0.89 * flag + sdvigY[i]));//3
      ctx.lineTo(posGameX * (0.241 + x + sdvigX[i]), posGameY * (0.91 * flag + sdvigY[i]));
      x = x + 0.055; //0.19 - разница между х-ми первой и последней точки
    }
    ctx.lineTo(posGameX * (0.186 + sdvigX[i]), posGameY * (0.91 * flag + sdvigY[i]));
    ctx.fill();
    ctx.stroke();
  }
}

function control1(event) {
  eo = window.event;
  eo.preventDefault();
  control_event();
  document.getElementById('gameA').style.opacity = 1;
  document.getElementById('ochki').style.opacity = 1;
  document.getElementById('control_4').style.background = 'red';
  document.getElementById('control_8').style.background = 'black';
 /* var after_el = document.querySelector('#but1');
  after_el.style.animationName = 'rule';
  after_el.style.transition = 'all 0';*/
  time_start = 1;
  control_sec = 3;
  shtraf=0;
  ball = 0;
  left_top();
}
function control2(event) {
  eo = window.event;
  eo.preventDefault();
  control_event();
  document.getElementById('gameB').style.opacity = 1;
  document.getElementById('ochki').style.opacity = 1;
  document.getElementById('control_4').style.background = 'black';
  document.getElementById('control_8').style.background = 'red';
  time_start = 2;
  control_sec = 2;
  shtraf = 0;
  ball = 0;
  left_top();
}
function control_event(){

  var but1 = document.getElementById('but1');
  var but2 = document.getElementById('but2');
  var but3 = document.getElementById('but3');
  var but4 = document.getElementById('but4');

  but1.addEventListener('touchstart', left_top, false);
  but2.addEventListener('touchstart', left_bot, false);
  but3.addEventListener('touchstart', right_top, false);
  but4.addEventListener('touchstart', right_bot, false); 

  document.addEventListener('keydown', but_press, false);


  var imgs = document.getElementsByClassName('imgsGame');
  for(var i=0; i<imgs.length; i++)
    imgs[i].style.opacity = 0;
  var imgs = document.getElementsByClassName('chiken');
  for(var i=0; i<imgs.length; i++)
    imgs[i].style.opacity = 1;
}


function but_press(event){
 eo = window.event;
 eo.preventDefault();

 if(eo.code === 'ShiftLeft') 
    left_top();
 if(eo.code === 'ControlLeft')
    left_bot();
 if(eo.code === 'ArrowUp')
    right_top(eo);
 if(eo.code === 'ArrowDown')
    right_bot(eo);

}
function left_top(){
    var volk = document.getElementsByClassName('volk');
    var hend = document.getElementsByClassName('hend');
    volk[1].style.opacity = 1;
    volk[0].style.opacity = 0;
      for(var i=0; i<hend.length; i++)
          hend[i].style.opacity = 0;
      hend[0].style.opacity = 1;
}
function left_bot(){
  eo = window.event;
  eo.preventDefault();
    var volk = document.getElementsByClassName('volk');
    var hend = document.getElementsByClassName('hend');
    volk[1].style.opacity = 1;
    volk[0].style.opacity = 0;
    for(var i=0; i<hend.length; i++)
      hend[i].style.opacity = 0;
    hend[3].style.opacity = 1; 
}
function right_top(event){
  eo = window.event;
  eo.preventDefault();
    var volk = document.getElementsByClassName('volk');
    var hend = document.getElementsByClassName('hend');
    volk[0].style.opacity = 1;
    volk[1].style.opacity = 0;
    for(var i=0; i<hend.length; i++)
      hend[i].style.opacity = 0;
    hend[2].style.opacity = 1; 
}
function right_bot(event){
  eo = window.event;
  eo.preventDefault();
    var volk = document.getElementsByClassName('volk');
    var hend = document.getElementsByClassName('hend');
    volk[0].style.opacity = 1;
    volk[1].style.opacity = 0;
    for(var i=0; i<hend.length; i++)
      hend[i].style.opacity = 0;
    hend[1].style.opacity = 1;  
}
function for_control3(){
  document.getElementById('curTime').style.opacity = 1;
}
function control3() {
  const currTime=new Date();
  const hour = currTime.getHours();
  const min = currTime.getMinutes();
  const sec = currTime.getSeconds();
  var msec = currTime.getMilliseconds()/1000;
 // console.log('msec', msec);
  if(msec < 0.26)
    msec = 0.25;
    else if(msec > 0.25 && msec < 0.51)
      msec = 0.5;
      else if(msec > 0.5 && msec < 0.76)
        msec = 0.75;
        else if(msec > 0.75)
          msec = 0;
  document.getElementById('curTime').innerText = str0l(hour,2) + ':' + str0l(min,2)+ ':' + str0l(sec,2);
 // }
 return sec + msec;
}
function str0l(val,len) {
  let strVal=val.toString();
  while (strVal.length < len)
      strVal='0'+strVal;
  return strVal;
}
function randomDiap(n,m) {
  return Math.floor(Math.random()*(m-n+1))+n;
}

function createTimerPromiseZaya(obj, obj_next, val, time, result) {

  return new Promise( (resolve,reject) => {
      setTimeout( () => {
        flag_zaya = val;
        obj.style.opacity = val;
        obj_next.style.opacity = val;
        resolve(result);
        if(!obj || !obj_next)
          reject("ошибка!!!"); 
      }, 1000*time);
  });

}
function zayac_move(time_start, sec){
  if(time_start === 1 || time_start === 2) //если игра запущена
  {
  var zaya = document.getElementById('zayac');
  var hends = document.getElementsByClassName('hend_z'); 
  var rand = randomDiap(0,1); //разные руки зайца
  
  if(sec % 6 === 0)
    {
      createTimerPromiseZaya(zaya, hends[rand], 1, 4, 2)
      .then( result => {
        return createTimerPromiseZaya(zaya, hends[rand], 0, 2, 3);
        })  
      .catch( error => {
        console.log("случилась ошибка: "+error);
      });
   }
 }   
}

function createTimerPromise(obj, obj_next, time, result) {

  return new Promise( (resolve,reject) => {
      setTimeout( () => {
        obj.style.opacity = 0;
        obj_next.style.opacity = 1;
        soundClickEg();
        resolve(result);
        if(!obj || !obj_next)
          reject("ошибка!!!"); 
      }, 1000/time);
  });

}

function createTimerPromise2(obj_next, result) {

  return new Promise( (resolve,reject) => {
     setTimeout( () => {
       obj_next.style.opacity = 0;
       resolve(result);
       if(!obj_next)
         reject("ошибка!!!"); 
     }, 1000/2);
 });

}

function gameA(time_start, sec){
  if(time_start === 1 && sec % control_sec === 0)//на стартке: 1 в 3 сек
  {
    //игра А. В зависимости от кол-ва штрафных очков - используются разные склоны
    var num_sklon = {
      0:{0:1, 1:2, 2:4},
      0.5:{0:1, 1:2, 2:4},
      1:{0:1, 1:2, 2:3},
      1.5:{0:1, 1:2, 2:3},
      2:{0:2, 1:3, 2:4},
      2.5:{0:2, 1:3, 2:4},
    };
    if(shtraf < 3.5)
    {
    var num = num_sklon[shtraf][randomDiap(0,2)];  
      game(num);
    } 
    else 
      time_start = 0;
  }
}
function gameB(time_start, sec){
  if(time_start === 2 && sec % control_sec === 0)
  {
    //игра B. Используются все лотки произвольно
    var num_sklon = {
      0:{0:1, 1:2, 2:3, 3:4}
    };
    var num = num_sklon[0][randomDiap(0,3)];
    if(shtraf < 3.5)
      game(num);
    else 
      time_start = 0;
  }
}
function game(num)
{
  var eg1 = document.getElementsByClassName('eg_left_top');
  var eg2 = document.getElementsByClassName('eg_left_bot');
  var eg3 = document.getElementsByClassName('eg_right_top');
  var eg4 = document.getElementsByClassName('eg_right_bot');
  var bd1 = document.getElementById('bdyj_left1');
  var bd2 = document.getElementById('bdyj_left2');    
  var bd3 = document.getElementById('bdyj_right1');
  var bd4 = document.getElementById('bdyj_right2');
  var cypL = document.getElementsByClassName('cyplenok_left');
  var cypR = document.getElementsByClassName('cyplenok_right');
  var hend = document.getElementsByClassName('hend');
  var eg = {
      1:{"eg": eg1, "bd":bd1, "cyp":cypL, "hend": hend[0]},
      2:{"eg": eg2,"bd":bd2, "cyp":cypL, "hend": hend[3]},
      3:{"eg": eg3,"bd":bd3, "cyp":cypR, "hend": hend[2]},
      4:{"eg": eg4,"bd":bd4, "cyp":cypR, "hend": hend[1]}
  }
  move_ags(eg[num]);
}

function move_ags(new_eg){
  (new_eg.eg)[0].style.opacity = 1;
 createTimerPromise((new_eg.eg)[0], (new_eg.eg)[1], control_sec/2, 0)
      .then( result => {
        return createTimerPromise((new_eg.eg)[1], (new_eg.eg)[2], control_sec/2, 2)
        })   
        .then( result => {
          return createTimerPromise((new_eg.eg)[2], (new_eg.eg)[3],control_sec/2, 2)
          })  
          .then( result => {
            return createTimerPromise((new_eg.eg)[3], (new_eg.eg)[4],control_sec/2, 2)
            }) 
            .then( result => {
              return createTimerPromise2((new_eg.eg)[4], 2)
              }) 
              .then( result => {
                if((new_eg.hend).style.opacity === "1") 
                {
                    ball = ball + 1;
                    if(ball === 200 || ball === 500)  //обнуление штрафов при достижении некоторого кол-ва баллов
                      shtraf = 0;
                    console.log("Очки: ", ball);
                    return createTimerPromise2((new_eg.eg)[4], 2)
                }
                else 
                {
                soundClick();
                 new_eg.bd.style.opacity = 1;
                    return move_bdyj(new_eg);
                }
                })  
      .catch( error => {
        console.log("случилась ошибка: " + error);
      });
      //скорость увеличивается и падает в зависимости от кол-ва баллов
      var ball_flag=0;
        if(ball > 100)
          ball_flag = Array.from(ball)[0] + '00';
      if(ball < (26 + ball_flag))
        flag_sec = control_sec;
        else if(ball > (25 + ball_flag) && ball < (51 + ball_flag))
          control_sec = flag_sec - 0.5;
          else if(ball > (50 + ball_flag) && ball < (76 + ball_flag))
            control_sec = flag_sec-1;
            else if(ball > (75 + ball_flag) && ball < (100 + ball_flag))
              control_sec = flag_sec-1.5; 

  }
 function move_bdyj(new_eg){
  createTimerPromise2(new_eg.bd, 2)
      .then( result => {
        if(flag_zaya === 1)
          {
          shtraf = shtraf + 0.5;
          move_cyp(new_eg);
          flag_zaya = 0;          
          }  
          else if(flag_zaya === 0)
           {
            console.log("dlkjngksjdn");
            shtraf = shtraf + 1;
            window.navigator.vibrate(200);  
            }
      console.log("Штрафные:", shtraf);            
      if(shtraf > 2.5)
            time_start = 0;   
       if(shtraf >=  0.5)
        {
           document.getElementsByClassName('bant')[0].style.opacity = 1;
        }
        if(shtraf >=  1.5)
          {
             document.getElementsByClassName('bant')[1].style.opacity = 1;
          }
          if(shtraf >=  2.5)
            {
               document.getElementsByClassName('bant')[2].style.opacity = 1;
            }
      if(shtraf > 2.5)
      {
        document.getElementById('game_over').style.opacity = 1;
        time_start = 0; 
      }             
        })  
      .catch( error => {
        console.log("случилась ошибка: " + error);
      });
     
 } 
function move_cyp(new_eg){
    createTimerPromise(new_eg.bd, (new_eg.cyp)[0], control_sec, 2)
    .then( result => {
      return createTimerPromise((new_eg.cyp)[0], (new_eg.cyp)[1],control_sec, 2)
      })  
      .then( result => {
        return createTimerPromise((new_eg.cyp)[1], (new_eg.cyp)[2],control_sec, 2)
        }) 
        .then( result => {
          return createTimerPromise((new_eg.cyp)[2], (new_eg.cyp)[3],control_sec, 2)
          }) 
          .then( result => {
            return createTimerPromise2((new_eg.cyp)[3], 2)
            }) 
.catch( error => {
console.log("случилась ошибка: "+error);
});
}
function soundClickEg() {
  var audio = new Audio(); // Создаём новый элемент Audio
  audio.src = 'audio/eg.mp3'; // Указываем путь к звуку "клика"
  audio.autoplay = true; // Автоматически запускаем
}
function soundClick() {
  var audio = new Audio(); // Создаём новый элемент Audio
  audio.src = 'audio/bdyj.mp3'; // Указываем путь к звуку "клика"
  audio.autoplay = true; // Автоматически запускаем
}

</script>
</html>